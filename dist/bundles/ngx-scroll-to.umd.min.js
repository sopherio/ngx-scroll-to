!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/platform-browser"),require("@angular/common"),require("rxjs/Observable"),require("rxjs/add/observable/throw"),require("rxjs/ReplaySubject")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/platform-browser","@angular/common","rxjs/Observable","rxjs/add/observable/throw","rxjs/ReplaySubject"],e):e(t["ngx-scroll-to"]={},t.ng.core,t.ng.platformBrowser,t.ng.common,t.Rx,t.Rx.Observable,t.Rx)}(this,function(t,e,n,o,r,i,s){"use strict";var a={target:null,action:"click",duration:650,easing:"easeInOutQuad",offset:0,offsetMap:new Map},u={easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t},easeOutElastic:function(t){return Math.pow(2,-10*t)*Math.sin((t-.25)*(2*Math.PI)/1)+1}},l=["click","mouseenter","mouseover","mousedown","mouseup","dblclick","contextmenu","wheel","mouseleave","mouseout"];function c(t){return t===window}var p=function(){function t(t,e,n,o,r,i){var a=this;this._container=t,this._listenerTarget=e,this._isWindow=n,this._to=o,this._options=r,this._isBrowser=i,this._loop=function(){a._timeLapsed+=a._tick,a._percentage=a._timeLapsed/a._options.duration,a._percentage=a._percentage>1?1:a._percentage,a._position=a._startPosition+(a._startPosition-a._to<0?1:-1)*a._distance*u[a._options.easing](a._percentage),a._source$.next(a._position),a._isWindow?a._listenerTarget.scrollTo(0,Math.floor(a._position)):a._container.scrollTop=Math.floor(a._position),a.stop(!1)},this._tick=16,this._interval=null,this._timeLapsed=0,this._windowScrollTop=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,this._startPosition=this._isWindow?this._windowScrollTop:this._container.scrollTop,this._isWindow||(this._to=this._to-this._container.getBoundingClientRect().top+this._startPosition);var l=this._startPosition-this._to;this._distance=Math.abs(this._startPosition-this._to);var c=this._options.offset;this._isBrowser&&this._options.offsetMap.forEach(function(t,e){return c=window.innerWidth>e?t:c}),this._distance+=c*(l<=0?1:-1),this._source$=new s.ReplaySubject}return t.prototype.start=function(){return clearInterval(this._interval),this._interval=setInterval(this._loop,this._tick),this._source$.asObservable()},t.prototype.stop=function(t){void 0===t&&(t=!0);var e=this._isWindow?this._windowScrollTop:this._container.scrollTop;(t||this._position===this._to+this._options.offset||e===this._to+this._options.offset)&&(clearInterval(this._interval),this._interval=null,this._source$.complete())},t}(),f=function(){function t(t,e){this._document=t,this._platformId=e,this._interruptiveEvents=["mousewheel","DOMMouseScroll","touchstart"]}return t.prototype.scrollTo=function(t){return o.isPlatformBrowser(this._platformId)?this._start(t):(new s.ReplaySubject).asObservable()},t.prototype._start=function(t){var e=this,n=Object.assign({},a,t);this._animation&&this._animation.stop();var i=this._getNode(n.target);if(!i)return r.Observable["throw"](new Error("Unable to get Target Element"));var s=this._getContainer(n,i);if(!s)return r.Observable["throw"](new Error("Unable to get Container Element"));var u=this._getListenerTarget(s),l=c(u)?i.offsetTop:i.getBoundingClientRect().top;this._animation=new p(s,u,c(u),l,n,o.isPlatformBrowser(this._platformId));var f=function(){return e._animation.stop()};this._addInterruptiveEventListeners(u,f);var _=this._animation.start();return this._subscribeToAnimation(_,u,f),_},t.prototype._subscribeToAnimation=function(t,e,n){var o=this,r=t.subscribe(function(){},function(){},function(){o._removeInterruptiveEventListeners(o._interruptiveEvents,e,n),r.unsubscribe()})},t.prototype._getContainer=function(t,e){return t.container?this._getNode(t.container,!0):this._getFirstScrollableParent(e)},t.prototype._addInterruptiveEventListeners=function(t,e){this._interruptiveEvents.forEach(function(n){return t.addEventListener(n,e)})},t.prototype._removeInterruptiveEventListeners=function(t,e,n){t.forEach(function(t){return e.removeEventListener(t,n)})},t.prototype._getFirstScrollableParent=function(t){var e=window.getComputedStyle(t),n=/(auto|scroll)/;if("fixed"===e.position)return null;for(var o=t;o=o.parentElement;null)if("absolute"!==(e=window.getComputedStyle(o)).position&&"hidden"!==e.overflow&&"hidden"!==e.overflowY&&(n.test(e.overflow+e.overflowY+e.overflowX)||"BODY"===o.tagName))return o;return null},t.prototype._getNode=function(t,n){var o,r,i,s;return void 0===n&&(n=!1),"string"==typeof(s=t)||s instanceof String?o=!n||"body"!==t&&"BODY"!==t?this._document.getElementById("#"===(i=t).substring(0,1)?i.substring(1):i):this._document.body:(r=t,!isNaN(parseFloat(r))&&isFinite(r)?o=this._document.getElementById(String(t)):t instanceof e.ElementRef?o=t.nativeElement:t instanceof HTMLElement&&(o=t)),o},t.prototype._getListenerTarget=function(t){return this._isDocumentBody(t)?window:t},t.prototype._isDocumentBody=function(t){return"BODY"===t.tagName.toUpperCase()},t}();f.decorators=[{type:e.Injectable}],f.ctorParameters=function(){return[{type:undefined,decorators:[{type:e.Inject,args:[n.DOCUMENT]}]},{type:undefined,decorators:[{type:e.Inject,args:[e.PLATFORM_ID]}]}]};var _=function(){function t(t,e,n){this._elementRef=t,this._scrollToService=e,this._renderer2=n,this.ngxScrollTo=a.target,this.ngxScrollToEvent=a.action,this.ngxScrollToDuration=a.duration,this.ngxScrollToEasing=a.easing,this.ngxScrollToOffset=a.offset,this.ngxScrollToOffsetMap=a.offsetMap}return t.prototype.ngAfterViewInit=function(){var t=this;if(-1===l.indexOf(this.ngxScrollToEvent))throw new Error("Unsupported Event '"+this.ngxScrollToEvent+"'");this._renderer2.listen(this._elementRef.nativeElement,this.ngxScrollToEvent,function(e){t._options={target:t.ngxScrollTo,duration:t.ngxScrollToDuration,easing:t.ngxScrollToEasing,offset:t.ngxScrollToOffset,offsetMap:t.ngxScrollToOffsetMap},t._scrollToService.scrollTo(t._options)})},t}();_.decorators=[{type:e.Directive,args:[{selector:"[ngx-scroll-to]"}]}],_.ctorParameters=function(){return[{type:e.ElementRef},{type:f},{type:e.Renderer2}]},_.propDecorators={ngxScrollTo:[{type:e.Input,args:["ngx-scroll-to"]}],ngxScrollToEvent:[{type:e.Input,args:["ngx-scroll-to-event"]}],ngxScrollToDuration:[{type:e.Input,args:["ngx-scroll-to-duration"]}],ngxScrollToEasing:[{type:e.Input,args:["ngx-scroll-to-easing"]}],ngxScrollToOffset:[{type:e.Input,args:["ngx-scroll-to-offset"]}],ngxScrollToOffsetMap:[{type:e.Input,args:["ngx-scroll-to-offset-map"]}]};var h=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[f]}},t}();h.decorators=[{type:e.NgModule,args:[{declarations:[_],exports:[_]}]}],h.ctorParameters=function(){return[]},t.ScrollToModule=h,t.ScrollToService=f,t.Éµa=_,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-scroll-to.umd.min.js.map
